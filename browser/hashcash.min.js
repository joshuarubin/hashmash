!function(t,n){"function"==typeof define&&define.amd?define(n):t.HashCash=n()}(this,function(){var t,n,e;return function(r){function s(t,n){return w.call(t,n)}function o(t,n){var e,r,s,o,i,u,a,l,c,h,f=n&&n.split("/"),p=b.map,d=p&&p["*"]||{};if(t&&"."===t.charAt(0))if(n){for(f=f.slice(0,f.length-1),t=f.concat(t.split("/")),l=0;l<t.length;l+=1)if(h=t[l],"."===h)t.splice(l,1),l-=1;else if(".."===h){if(1===l&&(".."===t[2]||".."===t[0]))break;l>0&&(t.splice(l-1,2),l-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((f||d)&&p){for(e=t.split("/"),l=e.length;l>0;l-=1){if(r=e.slice(0,l).join("/"),f)for(c=f.length;c>0;c-=1)if(s=p[f.slice(0,c).join("/")],s&&(s=s[r])){o=s,i=l;break}if(o)break;!u&&d&&d[r]&&(u=d[r],a=l)}!o&&u&&(o=u,i=a),o&&(e.splice(0,i,o),t=e.join("/"))}return t}function i(t,n){return function(){return p.apply(r,k.call(arguments,0).concat([t,n]))}}function u(t){return function(n){return o(n,t)}}function a(t){return function(n){g[t]=n}}function l(t){if(s(y,t)){var n=y[t];delete y[t],v[t]=!0,f.apply(r,n)}if(!s(g,t)&&!s(v,t))throw new Error("No "+t);return g[t]}function c(t){var n,e=t?t.indexOf("!"):-1;return e>-1&&(n=t.substring(0,e),t=t.substring(e+1,t.length)),[n,t]}function h(t){return function(){return b&&b.config&&b.config[t]||{}}}var f,p,d,_,g={},y={},b={},v={},w=Object.prototype.hasOwnProperty,k=[].slice;d=function(t,n){var e,r=c(t),s=r[0];return t=r[1],s&&(s=o(s,n),e=l(s)),s?t=e&&e.normalize?e.normalize(t,u(n)):o(t,n):(t=o(t,n),r=c(t),s=r[0],t=r[1],s&&(e=l(s))),{f:s?s+"!"+t:t,n:t,pr:s,p:e}},_={require:function(t){return i(t)},exports:function(t){var n=g[t];return"undefined"!=typeof n?n:g[t]={}},module:function(t){return{id:t,uri:"",exports:g[t],config:h(t)}}},f=function(t,n,e,o){var u,c,h,f,p,b,w=[];if(o=o||t,"function"==typeof e){for(n=!n.length&&e.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(f=d(n[p],o),c=f.f,"require"===c)w[p]=_.require(t);else if("exports"===c)w[p]=_.exports(t),b=!0;else if("module"===c)u=w[p]=_.module(t);else if(s(g,c)||s(y,c)||s(v,c))w[p]=l(c);else{if(!f.p)throw new Error(t+" missing "+c);f.p.load(f.n,i(o,!0),a(c),{}),w[p]=g[c]}h=e.apply(g[t],w),t&&(u&&u.exports!==r&&u.exports!==g[t]?g[t]=u.exports:h===r&&b||(g[t]=h))}else t&&(g[t]=e)},t=n=p=function(t,n,e,s,o){return"string"==typeof t?_[t]?_[t](n):l(d(t,n).f):(t.splice||(b=t,n.splice?(t=n,n=e,e=null):t=r),n=n||function(){},"function"==typeof e&&(e=s,s=o),s?f(r,t,n,e):setTimeout(function(){f(r,t,n,e)},4),p)},p.config=function(t){return b=t,b.deps&&p(b.deps,b.callback),p},e=function(t,n,e){n.splice||(e=n,n=[]),s(g,t)||s(y,t)||(y[t]=[t,n,e])},e.amd={jQuery:!0}}(),e("almond",function(){}),/**
 * @license
 * zvelo HashCash Javascript Library
 *
 * Copyright 2013 zvelo, Inc. All Rights Reserved
 *
 * SHA-1 implementation in JavaScript
 * (c) Chris Veness 2002-2010
 * www.movable-type.co.uk
 *  - http://csrc.nist.gov/groups/ST/toolkit/secure_hashing.html
 *  - http://csrc.nist.gov/groups/ST/toolkit/examples.html
 *
 * almond
 * (c) 2011-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
*/
function(){}.call(this),e("copyright",function(){}),function(){e("sha1",[],function(){var t,n,e,r,s,o,i;return t=function(t,n){return t<<n|t>>>32-n},r=function(t){var n,e,r,s;for(e="",n=s=7;s>=0;n=--s)r=15&t>>>4*n,e+=r.toString(16);return e},n=function(t,n,e,r){switch(t){case 0:return n&e^~n&r;case 1:return n^e^r;case 2:return n&e^n&r^e&r;case 3:return n^e^r}},o=function(e){var s,o,i,u,a,l,c,h,f,p,d,_,g,y,b,v,w,k,M,N,R,m,E,T,S,I,O,A,W;for(l=[1518500249,1859775393,2400959708,3395469782],e+=String.fromCharCode(128),M=e.length/4+2,h=Math.ceil(M/16),c=[],w=m=0,A=h-1;A>=0?A>=m:m>=A;w=A>=0?++m:--m)for(c[w]=[],k=E=0;15>=E;k=++E)c[w][k]=e.charCodeAt(64*w+4*k+0)<<24|e.charCodeAt(64*w+4*k+1)<<16|e.charCodeAt(64*w+4*k+2)<<8|e.charCodeAt(64*w+4*k+3)<<0;for(p=4294967296,c[h-1][14]=8*(e.length-1)/p,c[h-1][14]=Math.floor(c[h-1][14]),c[h-1][15]=4294967295&8*(e.length-1),s=1732584193,o=4023233417,i=2562383102,u=271733878,a=3285377520,d=[],w=T=0,W=h-1;W>=0?W>=T:T>=W;w=W>=0?++T:--T){for(R=S=0;15>=S;R=++S)d[R]=c[w][R];for(R=I=16;79>=I;R=++I)d[R]=t(d[R-3]^d[R-8]^d[R-14]^d[R-16],1);for(_=s,g=o,y=i,b=u,v=a,R=O=0;79>=O;R=++O)N=Math.floor(R/20),f=4294967295&t(_,5)+n(N,g,y,b)+v+l[N]+d[R],v=b,b=y,y=t(g,30),g=_,_=f;s=4294967295&s+_,o=4294967295&o+g,i=4294967295&i+y,u=4294967295&u+b,a=4294967295&a+v}return r(s)+r(o)+r(i)+r(u)+r(a)},s=function(t){var n,e,r,s,o;for(e=0,r=s=0,o=t.length-1;(o>=0?o>=s:s>=o)&&(n=parseInt(t[r],16),!isNaN(n));r=o>=0?++s:--s){switch(!1){case 0!==n:e+=4;break;case 1!==n:e+=3;break;case!(n>=2&&3>=n):e+=2;break;case!(n>=4&&7>=n):e+=1}if(0!==n)break}return e},i=function(t){var n,e;return n=""+t.challenge+":"+t.counter,e=o(n),s(e)>=t.bits?(t.result=n,!0):(t.counter+=1,!1)},e=function(t){return o(t)},e.leading0s=function(t){return s(t)},e.tryChallenge=function(t){return i(t)},e})}.call(this),function(){var t={}.hasOwnProperty,r=function(n,e){function r(){this.constructor=n}for(var s in e)t.call(e,s)&&(n[s]=e[s]);return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};e("taskmaster",["./sha1"],function(t){var e,s,o,i,u,a,l;return s=99,o=1,l={},i=function(){function t(t,n,e){this._caller=t,this._cb=n,this._range=e,this._sendQueue=[],this._ready=!1}return t.RANGE_INCREMENT=Math.pow(2,15),t.prototype._send=function(t){return this._spawn(),null!=this.sendFn?this._ready?this.sendFn(t):this._sendQueue.push(t):void 0},t.prototype._setGo=function(){var t;for(this._ready=!0,t=[];this._sendQueue.length;)t.push(this._send(this._sendQueue.shift()));return t},t.prototype._spawn=function(){return null==this.worker?this.connect():void 0},t.prototype._incRange=function(){return this._range.begin=this._range.end+1,this._range.end=this._range.begin+t.RANGE_INCREMENT-1},t.prototype._sendRange=function(){return this._incRange(),this._send({m:"range",range:this._range})},t.prototype._gotResult=function(t){return null!=t?this._cb.call(this._caller,t):void 0},t.prototype._gotMessage=function(t){if(null!=(null!=t?t.m:void 0))switch(t.m){case"ready":return this._setGo();case"request_range":return this._sendRange();case"result":return this._gotResult(t.result);case"console_log":return console.log("worker",t.data)}},t.prototype.sendData=function(t){return this._send({m:"data",data:t})},t.prototype.stop=function(){return this._ready=!1,this._sendQueue.length=0,null!=this.worker?(this.disconnect(),delete this.worker,delete this.sendFn):void 0},t}(),"undefined"!=typeof module&&null!==module&&(e=function(t){function e(t,n,r){e.__super__.constructor.call(this,t,n,r)}var s,o;return r(e,t),o=n("os"),s=n("child_process"),e.MAX_NUM_WORKERS=null!=o.cpus?o.cpus().length:4,e.DEFAULT_NUM_WORKERS=e.MAX_NUM_WORKERS,e.prototype.connect=function(){var t;return this.worker=s.fork(__dirname+"/worker.js"),t=this,this.worker.on("message",function(n){return t._gotMessage(n)}),this.sendFn=function(t){return this.worker.send(t)}},e.prototype.disconnect=function(){return this.worker.disconnect()},e}(i),l.NodeTaskMaster=e),a=function(t){function n(t,e,r,s){this.file=s,n.__super__.constructor.call(this,t,e,r)}return r(n,t),n.MAX_NUM_WORKERS=8,n.DEFAULT_NUM_WORKERS=4,n.prototype.connect=function(){var t;return this.worker=new Worker(this.file),t=this,this.worker.onmessage=function(n){return t._gotMessage(n.data)},this.worker.onerror=function(t){throw t.data},this.sendFn=function(t){return this.worker.postMessage(t)}},n.prototype.disconnect=function(){return this.worker.terminate()},n}(i),l.WebTaskMaster=a,u=function(){function n(t,n){this._caller=t,this._cb=n}return n.MAX_NUM_WORKERS=1,n.DEFAULT_NUM_WORKERS=1,n.prototype.sendData=function(t){return this._data=t,delete this._stopFlag,this.start()},n.prototype.start=function(){var n,e;for(e=new Date;!(null!=this._stopFlag||null!=this._data.result||new Date-e>=s);)t.tryChallenge(this._data);return null==this._stopFlag?null!=this._data.result?this._cb.call(this._caller,this._data.result):(n=this,setTimeout(function(){return n.start()},o)):void 0},n.prototype.stop=function(){return this._stopFlag=!0},n}(),l.TimeoutTaskMaster=u,l})}.call(this),function(){e("hashcash",["./copyright","./sha1","./taskmaster"],function(t,n,e){var r,s,o,i,u,a;return s=e.NodeTaskMaster,i=e.WebTaskMaster,o=e.TimeoutTaskMaster,u=function(t){return"string"==typeof t?6!==t.length?null:t:"number"!=typeof t?null:u(""+t)},a=function(t,n){return n.start=n.end+1,n.start===t.length?!1:(n.end=t.indexOf(":",n.start),-1===n.end?!1:n.end===n.start?!1:!0)},r=function(){function t(n,e,r,u,a){var l,c,h;this._bits=n,this._bits<t.MIN_BITS&&(this._bits=t.MIN_BITS),this._workers=[],this._range={},this._resetRange(),c="undefined"==typeof window||null===window?s:"undefined"!=typeof Worker&&null!==Worker&&null!=u?i:o,a=null!=a?Math.min(a,c.MAX_NUM_WORKERS):c.DEFAULT_NUM_WORKERS,a&&(console.log("using "+a+" workers"),h=function(t){return this.stop(),null!=r?e.call(r,t):e(t)},this._workers=function(){var t,n;for(n=[],l=t=1;a>=1?a>=t:t>=a;l=a>=1?++t:--t)n.push(new c(this,h,this._range,u));return n}.call(this))}return t.VERSION=1,t.MIN_BITS=16,t.hash=n,t.date=function(){var t,n,e,r;return e=new Date,r=("0"+(e.getYear()-100)).slice(-2),n=("0"+(e.getMonth()+1)).slice(-2),t=("0"+e.getDate()).slice(-2),""+r+n+t},t.parse=function(t){var n,e,r;return null==t?null:(e={},r={start:0,end:-1,length:function(){return this.end-this.start}},a(t,r)?(e.version=parseInt(t.substr(r.start,r.length()),10),isNaN(e.version)?null:a(t,r)?(e.bits=parseInt(t.substr(r.start,r.length()),10),isNaN(e.bits)?null:a(t,r)?(e.date=parseInt(t.substr(r.start,r.length()),10),isNaN(e.date)?null:a(t,r)?(e.resource=t.substr(r.start,r.length()),e.resource.length?a(t,r)?(e.rand=t.substr(r.start,r.length()),e.rand.length?(a(t,r),n=(-1===r.end?t.length:r.end)-r.start,e.counter=parseInt(t.substr(r.start,n),10),isNaN(e.counter)?null:e):null):null:null):null):null):null):null)},t.unparse=function(t){var n,e;return e="",null==t.version?e:(e+=""+t.version+":",null==t.bits?e:(e+=""+t.bits+":",null==t.date?e:(n=u(t.date),null==n?e:(e+=""+n+":",null==t.resource?e:(e+=""+t.resource+":",null==t.rand?e:(e+=t.rand,null==t.counter?e:e+=":"+t.counter))))))},t.prototype._resetRange=function(){return this._range={begin:0,end:-1}},t.prototype._sendData=function(t){var n,e,r,s,o;for(s=this._workers,o=[],e=0,r=s.length;r>e;e++)n=s[e],o.push(n.sendData(t));return o},t.prototype.stop=function(){var t,n,e,r,s;for(r=this._workers,s=[],n=0,e=r.length;e>n;n++)t=r[n],s.push(t.stop());return s},t.prototype.generate=function(n){var e,r;return this._resetRange(),r={version:t.VERSION,bits:this._bits,date:t.date(),resource:n,rand:Math.random().toString(36).substr(2)},e={challenge:t.unparse(r),counter:0,bits:r.bits},this._sendData(e)},t.prototype.validate=function(e){var r,s;return null==e?!1:null==this._bits?!1:(r=t.parse(e),null==r?!1:r.bits<this._bits?!1:r.bits<t.MIN_BITS?!1:r.version!==t.VERSION?!1:(s=t.date(),r.date<s-1||r.date>s+1?!1:n.leading0s(t.hash(e))>=r.bits))},t}()})}.call(this),n("hashcash")});
//@ sourceMappingURL=hashcash.min.js.map