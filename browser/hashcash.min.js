/*! hashcash 2013-06-05 */
!function(a){if("function"==typeof bootstrap)bootstrap("hashcash",a);else if("object"==typeof exports)module.exports=a();else if("function"==typeof define&&define.amd)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeHashCash=a}else"undefined"!=typeof window?window.HashCash=a():global.HashCash=a()}(function(){return function(a,b,c){function d(c,f){if(!b[c]){if(!a[c]){var g="function"==typeof require&&require;if(!f&&g)return g(c,!0);if(e)return e(c,!0);throw new Error("Cannot find module '"+c+"'")}var h=b[c]={exports:{}};a[c][0].call(h.exports,function(b){var e=a[c][1][b];return d(e?e:b)},h,h.exports)}return b[c].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(a,b){!function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;for(i=a("./sha1"),j=a("./taskmaster"),h=a("./properties"),e=j.NodeTaskMaster,g=j.WebTaskMaster,f=j.TimeoutTaskMaster,l=function(a){return"string"==typeof a?6!==a.length?null:a:"number"!=typeof a?null:l(""+a)},s=function(a,b){return b.start=b.end+1,b.start===a.length?!1:(b.end=a.indexOf(":",b.start),-1===b.end?!1:b.end===b.start?!1:!0)},m=function(){var a,b,c,d;return c=new Date,d=("0"+(c.getYear()-100)).slice(-2),b=("0"+(c.getMonth()+1)).slice(-2),a=("0"+c.getDate()).slice(-2),""+d+b+a},t=function(a){var b,c,d;return null==a?null:(c={},d={start:0,end:-1,length:function(){return this.end-this.start}},s(a,d)?(c.version=parseInt(a.substr(d.start,d.length()),10),isNaN(c.version)?null:s(a,d)?(c.bits=parseInt(a.substr(d.start,d.length()),10),isNaN(c.bits)?null:s(a,d)?(c.date=parseInt(a.substr(d.start,d.length()),10),isNaN(c.date)?null:s(a,d)?(c.resource=a.substr(d.start,d.length()),c.resource.length?s(a,d)?(c.rand=a.substr(d.start,d.length()),c.rand.length?(s(a,d),b=(-1===d.end?a.length:d.end)-d.start,c.counter=parseInt(a.substr(d.start,b),10),isNaN(c.counter)?null:c):null):null:null):null):null):null):null)},z=function(a){var b,c;return c="",null==a.version?c:(c+=""+a.version+":",null==a.bits?c:(c+=""+a.bits+":",null==a.date?c:(b=l(a.date),null==b?c:(c+=""+b+":",null==a.resource?c:(c+=""+a.resource+":",null==a.rand?c:(c+=a.rand,null==a.counter?c:c+=":"+a.counter))))))},w=function(){return this._range={begin:0,end:-1}},B=function(a){return this.stop(),null!=this._callbackScope?this._callback.call(this._callbackScope,a):this._callback(a)},C=function(a){var b,c,d;if(!this._workers.length&&(c=null!=this._numWorkers?Math.min(this._numWorkers,a.MAX_NUM_WORKERS):a.DEFAULT_NUM_WORKERS))return console.log("using "+c+" workers"),this._workers=function(){var e,f;for(f=[],b=e=1;c>=1?c>=e:e>=c;b=c>=1?++e:--e)d=new a(this,this._workerCallback,this._range,this._workerFile),h.makeReadOnly(d),f.push(d);return f}.call(this)},x=function(a){var b,c,d,e,f;for(e=this._workers,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b.sendData(a));return f},y=function(){var a,b,c,d,e;for(d=this._workers,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a.stop());return e},n=function(a){var b,d,h;return this._resetRange(),d={version:c.VERSION,bits:this._bits,date:c.date(),resource:a,rand:Math.random().toString(36).substr(2)},b={challenge:c.unparse(d),counter:0,bits:d.bits},h="undefined"==typeof window||null===window?e:"undefined"!=typeof Worker&&null!==Worker&&null!=this._workerFile?g:f,this._workerGenerator(h),this._sendData(b)},A=function(a){var b,d;return null==a?!1:null==this._bits?!1:(b=c.parse(a),null==b?!1:b.bits<this._bits?!1:b.bits<c.MIN_BITS?!1:b.version!==c.VERSION?!1:(d=c.date(),b.date<d-1||b.date>d+1?!1:i.leading0s(c.hash(a))>=b.bits))},d=function(){function a(a,b,d,e,f){this._bits=a,this._callback=b,this._callbackScope=d,this._workerFile=e,this._numWorkers=f,this._bits<c.MIN_BITS&&(this._bits=c.MIN_BITS),this._workers=[],this._range={},h.makeHidden(this)}return a.prototype._resetRange=function(){return w.apply(this,arguments)},a.prototype._workerCallback=function(){return B.apply(this,arguments)},a.prototype._workerGenerator=function(){return C.apply(this,arguments)},a.prototype._sendData=function(){return x.apply(this,arguments)},a.prototype.stop=function(){return y.apply(this,arguments)},a.prototype.generate=function(){return n.apply(this,arguments)},a.prototype.validate=function(){return A.apply(this,arguments)},a}(),u=[d,d.prototype],o=0,q=u.length;q>o;o++)k=u[o],h.makeReadOnly(k);for(c=function(){function a(a,b,c,e,f){this._impl=new d(a,b,c,e,f),h.makeReadOnly(this._impl),h.makeReadOnly(this)}return a.VERSION=1,a.MIN_BITS=16,a.hash=i,a.date=function(){return m.apply(this,arguments)},a.parse=function(){return t.apply(this,arguments)},a.unparse=function(){return z.apply(this,arguments)},a.prototype.stop=function(){return this._impl.stop.apply(this._impl,arguments)},a.prototype.generate=function(){return this._impl.generate.apply(this._impl,arguments)},a.prototype.validate=function(){return this._impl.validate.apply(this._impl,arguments)},a}(),v=[c,c.prototype],p=0,r=v.length;r>p;p++)k=v[p],h.makeReadOnly(k);b.exports=c}.call(this)},{"./sha1":2,"./taskmaster":3,"./properties":4}],2:[function(a,b){!function(){var a,c,d,e,f,g,h,i,j,k={}.hasOwnProperty;a=function(a,b){return a<<b|a>>>32-b},g=function(a){var b,c,d,e;for(c="",b=e=7;e>=0;b=--e)d=15&a>>>4*b,c+=d.toString(16);return c},c=function(a,b,c,d){switch(a){case 0:return b&c^~b&d;case 1:return b^c^d;case 2:return b&c^b&d^c&d;case 3:return b^c^d}},i=function(b){var d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G;for(j=[1518500249,1859775393,2400959708,3395469782],b+=String.fromCharCode(128),w=b.length/4+2,l=Math.ceil(w/16),k=[],u=z=0,F=l-1;F>=0?F>=z:z>=F;u=F>=0?++z:--z)for(k[u]=[],v=A=0;15>=A;v=++A)k[u][v]=b.charCodeAt(64*u+4*v+0)<<24|b.charCodeAt(64*u+4*v+1)<<16|b.charCodeAt(64*u+4*v+2)<<8|b.charCodeAt(64*u+4*v+3)<<0;for(n=4294967296,k[l-1][14]=8*(b.length-1)/n,k[l-1][14]=Math.floor(k[l-1][14]),k[l-1][15]=4294967295&8*(b.length-1),d=1732584193,e=4023233417,f=2562383102,h=271733878,i=3285377520,o=[],u=B=0,G=l-1;G>=0?G>=B:B>=G;u=G>=0?++B:--B){for(y=C=0;15>=C;y=++C)o[y]=k[u][y];for(y=D=16;79>=D;y=++D)o[y]=a(o[y-3]^o[y-8]^o[y-14]^o[y-16],1);for(p=d,q=e,r=f,s=h,t=i,y=E=0;79>=E;y=++E)x=Math.floor(y/20),m=4294967295&a(p,5)+c(x,q,r,s)+t+j[x]+o[y],t=s,s=r,r=a(q,30),q=p,p=m;d=4294967295&d+p,e=4294967295&e+q,f=4294967295&f+r,h=4294967295&h+s,i=4294967295&i+t}return g(d)+g(e)+g(f)+g(h)+g(i)},h=function(a){var b,c,d,e,f;for(c=0,d=e=0,f=a.length-1;(f>=0?f>=e:e>=f)&&(b=parseInt(a[d],16),!isNaN(b));d=f>=0?++e:--e)switch(b){case 0:c+=4;break;case 1:return c+3;case 2:case 3:return c+2;case 4:case 5:case 6:case 7:return c+1;default:return c}return c},j=function(a){var b,c;return b=""+a.challenge+":"+a.counter,c=i(b),h(c)>=a.bits?(a.result=b,!0):(a.counter+=1,!1)},f=function(a){return i(a)},f.leading0s=function(a){return h(a)},f.tryChallenge=function(a){return j(a)},d={writable:!1,enumerable:!1,configurable:!1};for(e in f)k.call(f,e)&&Object.defineProperty(f,e,d);b.exports=f}.call(this)},{}],4:[function(a,b,c){!function(){var a,b,d,e={}.hasOwnProperty;d={writable:!1,enumerable:!0,configurable:!1},b={writable:!1,enumerable:!1,configurable:!1},a={writable:!0,enumerable:!1,configurable:!1},c.makeReadOnly=function(a){var c,f;if(null==Object.defineProperty)return void 0;for(c in a)e.call(a,c)&&(f=d,"_"===c[0]&&(f=b),Object.defineProperty(a,c,f));return void 0},c.makeHidden=function(c){var f,g;if(null==Object.defineProperty)return void 0;for(f in c)e.call(c,f)&&("_"===f[0]?(g=a,"function"==typeof c[f]&&(g=b)):"function"==typeof c[f]&&(g=d),null!=g&&(Object.defineProperty(c,f,g),g=void 0));return void 0}}.call(this)},{}],5:[function(){},{}],6:[function(a,b,c){c.spawn=function(){},c.exec=function(){}},{}],3:[function(a,b,c){!function(b){!function(){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P={}.hasOwnProperty,Q=function(a,b){function c(){this.constructor=a}for(var d in b)P.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};for(k=a("os"),j=a("child_process"),m=a("./sha1"),l=a("./properties"),e=99,f=1,F=function(a){return this._spawn(),null!=this.sendFn?this.sendFn(a):void 0},H=function(){return null==this.worker?this.connect():void 0},r=function(){return this._range.begin=this._range.end+1,this._range.end=this._range.begin+g.RANGE_INCREMENT-1},G=function(){return this._incRange(),this._send({m:"range",range:this._range})},p=function(a){return null!=a?this._callback.call(this._caller,a):void 0},o=function(a){if(null!=(null!=a?a.m:void 0))switch(a.m){case"request_range":return this._sendRange();case"result":return this._gotResult(a.result);case"console_log":return console.log("worker",a.data)}},N=function(a){return this._send({m:"data",data:a})},O=function(){return null!=this.worker?(this.disconnect(),delete this.worker,delete this.sendFn):void 0},z=function(){var a;return this.worker=j.fork(b+"/worker.js"),a=this,this.worker.on("message",function(b){return a._gotMessage.call(a,b)}),l.makeReadOnly(this.worker),this.sendFn=function(a){return this.worker.send(a)}},A=function(){return this.worker.disconnect()},L=function(){var a;return this.worker=new Worker(this.file),a=this,this.worker.onmessage=function(b){return a._gotMessage.call(a,b.data)},l.makeReadOnly(this.worker),this.sendFn=function(a){return this.worker.postMessage(a)}},M=function(){return this.worker.terminate()},I=function(a){return this._data=a,delete this._stopFlag,J.apply(this)},J=function(){var a,b;for(b=new Date;!(null!=this._stopFlag||null!=this._data.result||new Date-b>=e);)m.tryChallenge(this._data);return null==this._stopFlag?null!=this._data.result?this._callback.call(this._caller,this._data.result):(a=this,setTimeout(function(){return J.apply(a)},f)):void 0},K=function(){return this._stopFlag=!0},g=function(){function a(a,b,c){this._caller=a,this._callback=b,this._range=c,l.makeReadOnly(this)}return a.RANGE_INCREMENT=Math.pow(2,15),a.prototype._send=function(){return F.apply(this,arguments)},a.prototype._spawn=function(){return H.apply(this,arguments)},a.prototype._incRange=function(){return r.apply(this,arguments)},a.prototype._sendRange=function(){return G.apply(this,arguments)},a.prototype._gotResult=function(){return p.apply(this,arguments)},a.prototype._gotMessage=function(){return o.apply(this,arguments)},a.prototype.sendData=function(){return N.apply(this,arguments)},a.prototype.stop=function(){return O.apply(this,arguments)},a}(),B=[g,g.prototype],q=0,v=B.length;v>q;q++)n=B[q],l.makeReadOnly(n);for(d=function(a){function b(a,c,d){b.__super__.constructor.call(this,a,c,d),l.makeReadOnly(this)}return Q(b,a),b.MAX_NUM_WORKERS=null!=k.cpus?k.cpus().length:4,b.DEFAULT_NUM_WORKERS=b.MAX_NUM_WORKERS,b.prototype.connect=function(){return z.apply(this,arguments)},b.prototype.disconnect=function(){return A.apply(this,arguments)},b}(g),C=[d,d.prototype],s=0,w=C.length;w>s;s++)n=C[s],l.makeReadOnly(n);for(i=function(a){function b(a,c,d,e){this.file=e,b.__super__.constructor.call(this,a,c,d),l.makeReadOnly(this)}return Q(b,a),b.MAX_NUM_WORKERS=8,b.DEFAULT_NUM_WORKERS=4,b.prototype.connect=function(){return L.apply(this,arguments)},b.prototype.disconnect=function(){return M.apply(this,arguments)},b}(g),D=[i,i.prototype],t=0,x=D.length;x>t;t++)n=D[t],l.makeReadOnly(n);for(h=function(){function a(a,b){this._caller=a,this._callback=b,l.makeReadOnly(this)}return a.MAX_NUM_WORKERS=1,a.DEFAULT_NUM_WORKERS=1,a.prototype.sendData=function(){return I.apply(this,arguments)},a.prototype.stop=function(){return K.apply(this,arguments)},a}(),E=[h,h.prototype],u=0,y=E.length;y>u;u++)n=E[u],l.makeReadOnly(n);c.NodeTaskMaster=d,c.WebTaskMaster=i,c.TimeoutTaskMaster=h}.call(this)}("/")},{os:5,child_process:6,"./sha1":2,"./properties":4}]},{},[1])(1)});